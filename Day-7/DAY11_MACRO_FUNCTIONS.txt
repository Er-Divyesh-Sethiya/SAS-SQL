/* options */
options mprint;
%macro test (input =,output=);
proc means data = &input noprint;
var height;
output out = &output mean= ;
run;
%mend;
%test(input=sashelp.class,output=test);


options mlogic; 
%MACRO test();
%DO i = 1 %to 9 ;
%put 'loop execute';
%end;
%MEND;
%test();

options symbolgen;
%macro test (input =,output=);
proc means data = &input noprint;
var height;
output out = &output mean= ;
run;
%mend;
%test(input=sashelp.class,output=test);

/*
Difference between MPRINT and SYMBOLGEN
See the log generated by these two options. MPRINT option prints all the statements within the macro (not just macro variables).
Whereas, SYMBOLGEN option prints only the results of macro variables.*/
options nomprint nomlogic nosymbolgen;

%macro calc(criteria=); 
data test;
set sashelp.class;
where sex ='&criteria';
run;
proc print data=test;run;
%mend;

%calc(criteria=F);



%macro calcc(criteria=); 
data test;
set sashelp.CLASS;
where sex ="&criteria";
run;
proc print data=test;run;
%mend;

%calcc(criteria=F);

/* Functions */

%let x = 10;
%let y = 20;
%let z = &x * &y;
%put &z;

%let z2 = %eval(&x*&y);
%put &z2;

/* Floating Value */

%let last2 = %sysevalf(4.5+3.2);
%put &last2;

/* %SYSFUNC Function*/

%let dt3 = %sysfunc(date(),yymmdd10.);

%put &dt3;
/* %STR Function */
%let exmp0 = proc print; run;
%put &exmp0;

%let exmpl = %str(proc print; run;) ;
%put &exmpl;

/* %NRSTR Function */

%let exmpl = %nrstr(proc print; run;) ;
%put &exmpl;

%put "Difference between %NRSTR(&SYSDATE9) and &SYSDATE9";


/* SCAN */
%let var = var1 var2 var3;
%let varName =%scan(&var,1,%str( ));
%put &varName;

/* This tutorial explains how single (&), double (&&) and Triple (&&&) ampersand macro variables are resolved.*/
/*https://www.listendata.com/2016/01/single-double-triple-ampersand-sas.html*/
%let x=temp;
%let n=3;
%let x3=result;
%let temp3 = result2; 

%put &x&n;    temp3   
%put &&x&n;  &x3 result
%put &&&x&n;  


options  mprint mlogic symbolgen;
proc sql;
select count(name) into: cnt trimmed from sashelp.class;
quit;


proc sql;
select name into: val1-   from sashelp.class;
quit;

%macro nn();
data new;

%do i =1 %to &cnt;
  %put  &&val&i.;   
%end;

run;

%mend;

%nn();


%include '/home/u36424593/MACLIB/allmac.sas';
%nn();



proc printto log="D:\SAS Training\sas_dev\OUTPUT\LOG1.txt" new;
run;


DM "Log" clear continue;
DM "Output" clear continue;